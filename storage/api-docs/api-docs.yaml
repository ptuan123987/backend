openapi: 3.0.0
info:
  title: 'Udemy API'
  description: 'BY ĐẶNG HỮU TẤN SIÊU CẤP VŨ TRỤ '
  contact:
    name: 'Swagger API Team'
  version: '1.0'
servers:
  -
    url: 'http://localhost:8000'
    description: 'API server'
  -
    url: 'https://api-study.salyr.online'
    description: 'production server'
paths:
  /api/admin/login:
    post:
      tags:
        - admin
      summary: Login
      description: 'Login a admin and return a JWT token'
      operationId: 7fa91d413b4099cb3908a831f02580eb
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                email:
                  type: string
                  format: email
                  example: admin@gmail.com
                password:
                  type: string
                  format: password
                  example: Ptuan1234@
              type: object
      responses:
        200:
          description: 'Successful login'
        401:
          description: Unauthorized
  /api/auth/login:
    post:
      tags:
        - auth
      summary: Login
      description: 'Login a user and return a JWT token'
      operationId: 535ffeda4b78916efd658b2844ea897a
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                email:
                  type: string
                  format: email
                  example: ptuan123@gmail.com
                password:
                  type: string
                  format: password
                  example: Ptuan1234@
              type: object
      responses:
        200:
          description: 'Successful login'
        401:
          description: Unauthorized
  /api/auth/register:
    post:
      tags:
        - auth
      summary: Register
      description: 'Register a new user'
      operationId: da8643013c2941f5ed7f8a9c9b4a7f7a
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                display_name:
                  type: string
                  example: 'Phan Văn Tuấn'
                email:
                  type: string
                  format: email
                  example: ptuan123@gmail.com
                password:
                  type: string
                  format: password
                  example: Ptuan1234@
              type: object
      responses:
        201:
          description: 'User successfully registered'
        422:
          description: 'Unprocessable Entity'
  /api/user/refresh:
    post:
      tags:
        - auth
      summary: 'Refresh token'
      description: 'Refresh the JWT token'
      operationId: 3cad74591db1465c49fad64378a2ceb0
      responses:
        200:
          description: 'Token refreshed successfully'
      security:
        -
          bearerAuth: []
  /api/user/me:
    get:
      tags:
        - auth
      summary: 'User profile'
      description: 'Get the authenticated user profile'
      operationId: 19bb431e7c8c1af9e3d80c353acc38be
      responses:
        200:
          description: 'User profile retrieved successfully'
      security:
        -
          bearerAuth: []
  /api/user/change-password:
    post:
      tags:
        - auth
      summary: 'Change password'
      description: 'Change the password of the authenticated user'
      operationId: cbd676312bb8cb851ac1e7b5ac864423
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                current_password:
                  type: string
                  format: password
                  example: old_password
                new_password:
                  type: string
                  format: password
                  example: new_password
              type: object
      responses:
        201:
          description: 'User password changed successfully'
      security:
        -
          bearerAuth: []
  /api/user/edit-profile:
    put:
      tags:
        - auth
      summary: 'Edit profile'
      description: 'Edit the profile of the authenticated user'
      operationId: d43b3a677ddd110891c4229eb7978325
      requestBody:
        required: true
        content:
          application/json:
            schema:
              properties:
                display_name:
                  type: string
                  example: 'New Display Name'
                email:
                  type: string
                  format: email
                  example: newemail@example.com
              type: object
      responses:
        200:
          description: 'User profile updated successfully'
        401:
          description: Unauthorized
        422:
          description: 'Unprocessable Entity'
      security:
        -
          bearerAuth: []
  /api/categories:
    get:
      tags:
        - Categories
      summary: 'Get a list of categories'
      description: 'Get a list of categories'
      operationId: 3f5817a34833d0a1f4af4548dd3aeaba
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CategoryResource'
        404:
          description: 'Category not found'
    post:
      tags:
        - Categories
      summary: 'Store a new category'
      operationId: 71fcad552bb0eaba9fb191fd8d8dcab0
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CategoryRequest'
      responses:
        201:
          description: 'Category created successfully'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoryResource'
      security:
        -
          bearerAuth: []
  '/api/categories/{id}':
    get:
      tags:
        - Categories
      summary: 'Display the specified category'
      description: 'Display the specified category'
      operationId: c68e76d323c008827a9e47398b1583de
      parameters:
        -
          name: id
          in: path
          description: 'ID of the category'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoryResource'
        404:
          description: 'Category not found'
    put:
      tags:
        - Categories
      summary: 'Update the specified category'
      description: 'Update the specified category'
      operationId: 0e686b2748211cc688333ed705dc111f
      parameters:
        -
          name: id
          in: path
          description: 'ID of the category'
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CategoryRequest'
      responses:
        200:
          description: 'Category updated successfully'
          content:
            application/json:
              schema: []
        404:
          description: 'Category not found'
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Categories
      summary: 'Remove the specified category'
      description: 'Remove the specified category'
      operationId: 4c12e22a7f8c617bd83bfa1fdc05428d
      parameters:
        -
          name: id
          in: path
          description: 'ID of the category'
          required: true
          schema:
            type: integer
      responses:
        204:
          description: 'Category removed successfully'
        404:
          description: 'Category not found'
      security:
        -
          bearerAuth: []
  '/api/categories/{categoryId}/topics':
    get:
      tags:
        - Categories
      summary: 'Get Topics by Category'
      description: 'Returns all topics under a specific category'
      operationId: getTopics
      parameters:
        -
          name: categoryId
          in: path
          description: 'ID of category to return topics for'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'successful operation'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TopicResource'
        404:
          description: 'Category not found'
  '/api/categories/{categoryId}/courses':
    get:
      tags:
        - Categories
      summary: 'Get Courses by Category'
      description: 'Returns all courses under a specific category'
      operationId: getCourses
      parameters:
        -
          name: categoryId
          in: path
          description: 'ID of category to return courses for'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'successful operation'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CourseResource'
        404:
          description: 'Category not found'
  '/api/categories/{categoryId}/subcategories':
    get:
      tags:
        - Categories
      summary: 'Get Subcategories by Category'
      description: 'Returns all subcategories under a specific category'
      operationId: getSubcategories
      parameters:
        -
          name: categoryId
          in: path
          description: 'ID of category to return subcategories for'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'successful operation'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CategoryResource'
        404:
          description: 'Category not found'
      security:
        -
          bearerAuth: []
  '/api/categories/{categoryId}/courses/{courseId}':
    patch:
      tags:
        - Categories
      summary: 'Attach a Course to a Category'
      description: 'Attaches an existing course to a specific category'
      operationId: attachCourse
      parameters:
        -
          name: categoryId
          in: path
          description: 'ID of the category to which the course is to be attached'
          required: true
          schema:
            type: integer
        -
          name: courseId
          in: path
          description: 'ID of the course to attach to the category'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Course attached successfully'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Course attached'
                type: object
        404:
          description: 'Category or Course not found'
      security:
        -
          bearerAuth: []
  /api/auth/reset-password:
    post:
      tags:
        - 'Password Reset'
      summary: 'Process password reset'
      operationId: b3e2f1d1e79a537a8ce80356eaa12a88
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - email
                - resetToken
                - password
                - password_confirmation
              properties:
                email:
                  description: 'Email address for password reset'
                  type: string
                  format: email
                resetToken:
                  description: 'Token received for password reset'
                  type: string
                password:
                  description: 'New password'
                  type: string
                  format: password
              type: object
      responses:
        200:
          description: 'Password updated successfully'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Password has been updated.'
                type: object
        422:
          description: 'Invalid email or token'
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: 'Either your email or token is wrong.'
                type: object
  /api/chapters:
    get:
      tags:
        - Chapters
      summary: 'Get a list of chapters'
      description: 'Gets a paginated list of chapters with associated course.'
      operationId: b6ebe3e8de23b7e46a978c81c4216c58
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ChapterResource'
    post:
      tags:
        - Chapters
      summary: 'Store a new chapter'
      description: 'Stores a new chapter with associated course.'
      operationId: e703ac0c005c047a7b315cbb59d395d2
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StoreChapterRequest'
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChapterResource'
        500:
          description: 'Internal server error'
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                type: object
      security:
        -
          bearerAuth: []
  '/api/chapters/{id}':
    get:
      tags:
        - Chapters
      summary: 'Get a specific chapter'
      description: 'Gets a specific chapter with associated course.'
      operationId: 4d3cb5f74452fade7c888c549392d086
      parameters:
        -
          name: id
          in: path
          description: 'ID of the chapter'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChapterResource'
        404:
          description: 'Chapter not found'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                type: object
    put:
      tags:
        - Chapters
      summary: 'Update a specific chapter'
      description: 'Updates a specific chapter with associated course.'
      operationId: a45835cfd37038ca7124d96fb62b31fe
      parameters:
        -
          name: id
          in: path
          description: 'ID of the chapter'
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateChapterRequest'
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChapterResource'
        404:
          description: 'Chapter not found'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                type: object
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Chapters
      summary: 'Delete a specific chapter'
      description: 'Deletes a specific chapter.'
      operationId: b0c347fa26045b6ea323bf088fffb814
      parameters:
        -
          name: id
          in: path
          description: 'ID of the chapter'
          required: true
          schema:
            type: integer
      responses:
        204:
          description: 'No Content'
        404:
          description: 'Chapter not found'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                type: object
      security:
        -
          bearerAuth: []
  /api/courses:
    get:
      tags:
        - Courses
      summary: 'Get a paginated listing of courses'
      description: 'Display a paginated listing of courses.'
      operationId: 02eeda67042dba2d22a517f26fb8eaf1
      parameters:
        -
          name: pageNum
          in: query
          description: 'Page number'
          required: false
          schema:
            type: integer
        -
          name: pageSize
          in: query
          description: 'Number of items per page'
          required: false
          schema:
            type: integer
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CourseResource'
    post:
      tags:
        - Courses
      summary: 'Store a newly created course'
      description: 'Store a newly created course in storage.'
      operationId: a4d6b7e7be59571034428ffbb86aaf0a
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/StoreCourseRequest'
      responses:
        201:
          description: 'Course created successfully'
          content:
            application/json:
              schema: []
      security:
        -
          bearerAuth: []
  '/api/courses/{course_id}':
    get:
      tags:
        - Courses
      summary: 'Display the specified course'
      description: 'Display the specified course.'
      operationId: e60bc21136ac1e1be61ca244ec552eae
      parameters:
        -
          name: course_id
          in: path
          description: 'ID of the course'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CourseResource'
        404:
          description: 'Course not found'
    post:
      tags:
        - Courses
      summary: 'Update the specified course'
      description: 'Update the specified course in storage.'
      operationId: 3cef984cfe9942b9eafb4096512ad771
      parameters:
        -
          name: course_id
          in: path
          description: 'ID of the course'
          required: true
          schema:
            type: integer
        -
          name: _method
          in: query
          description: 'Method to be used'
          required: false
          schema:
            type: string
            default: PUT
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UpdateCourseRequest'
      responses:
        200:
          description: 'Course updated successfully'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CourseResource'
        404:
          description: 'Course not found'
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Courses
      summary: 'Remove the specified course'
      description: 'Remove the specified course from storage.'
      operationId: bec73dfbe0ae9a5de705f020d589ded1
      parameters:
        -
          name: course_id
          in: path
          description: 'ID of the course'
          required: true
          schema:
            type: integer
      responses:
        204:
          description: 'Course deleted successfully'
        404:
          description: 'Course not found'
      security:
        -
          bearerAuth: []
  '/api/courses/{course_id}/reviews':
    get:
      tags:
        - Courses
      summary: 'Display a listing of reviews for the specified course'
      description: 'Display a listing of reviews for the specified course.'
      operationId: dc9ee6917a87f94e8c044fa90a62bdc6
      parameters:
        -
          name: course_id
          in: path
          description: 'ID of the course'
          required: true
          schema:
            type: integer
        -
          name: pageNum
          in: query
          description: 'Page number'
          required: false
          schema:
            type: integer
        -
          name: pageSize
          in: query
          description: 'Number of items per page'
          required: false
          schema:
            type: integer
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CourseReviewResource'
        404:
          description: 'Course not found'
  '/api/courses/{course_id}/chapters':
    get:
      tags:
        - Courses
      summary: 'Display a listing of chapters for the specified course'
      description: 'Display a listing of chapters for the specified course.'
      operationId: 0cc05de83178774f4f095b6fb21648e8
      parameters:
        -
          name: course_id
          in: path
          description: 'ID of the course'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ChapterResource'
        404:
          description: 'Course not found'
  /api/user/course-reviews:
    get:
      tags:
        - CourseReviews
      summary: 'Get a list of course reviews'
      operationId: 8c3c1b2ec9e8735c37ff191c457ea006
      parameters:
        -
          name: pageNum
          in: query
          description: 'Page number'
          required: false
          schema:
            type: integer
            example: 1
        -
          name: pageSize
          in: query
          description: 'Number of items per page'
          required: false
          schema:
            type: integer
            example: 15
      responses:
        200:
          description: 'List of course reviews'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CourseReviewResource'
      security:
        -
          bearerAuth: []
    post:
      tags:
        - CourseReviews
      summary: 'Create a new course review'
      operationId: 4b2f32adda93339c1fb3127812a89101
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CourseReviewRequest'
      responses:
        201:
          description: 'New course review created'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CourseReviewResource'
      security:
        -
          bearerAuth: []
  '/api/user/course-reviews/{id}':
    delete:
      tags:
        - CourseReviews
      summary: 'Delete a course review by ID'
      operationId: 55f6489f94ab36222229a253ad5aea45
      parameters:
        -
          name: id
          in: path
          description: 'ID of the course review'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Course review deleted'
      security:
        -
          bearerAuth: []
  /api/lectures:
    get:
      tags:
        - lectures
      summary: 'List all lectures'
      description: 'Display a listing of the lectures'
      operationId: 9e761e5869f01f3dab9a5ea6cd5cf0fa
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/LectureResource'
    post:
      tags:
        - lectures
      summary: 'Create a lecture'
      description: 'Store a newly created lecture in storage'
      operationId: 885111951104828aad3a2a12f19a93ad
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/StoreLectureRequest'
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LectureResource'
        500:
          description: 'Error creating lecture'
      security:
        -
          bearerAuth: []
  '/api/lectures/{id}':
    get:
      tags:
        - lectures
      summary: 'Show a specific lecture'
      description: 'Display the specified lecture'
      operationId: cba6066aacd9cd43738aff77eab50c4b
      parameters:
        -
          name: id
          in: path
          description: 'ID of lecture to return'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Successful operation'
        404:
          description: 'Lecture not found'
    post:
      tags:
        - lectures
      summary: 'Update a lecture'
      description: 'Update the specified lecture in storage'
      operationId: dbd9063b23cddf7620b91338f22066af
      parameters:
        -
          name: id
          in: path
          description: 'ID of lecture to delete'
          required: true
          schema:
            type: integer
        -
          name: _method
          in: query
          description: 'Method to be used'
          required: false
          schema:
            type: string
            default: PUT
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UpdateLectureRequest'
      responses:
        200:
          description: 'Lecture updated successfully'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LectureResource'
        404:
          description: 'Lecture not found'
        422:
          description: 'Invalid input'
        500:
          description: 'Error updating lecture'
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - lectures
      summary: 'Delete a lecture'
      description: 'Remove the specified lecture from storage'
      operationId: 6dbcc2ad9cd55a64f673d6f55ed826b0
      parameters:
        -
          name: id
          in: path
          description: 'ID of lecture to delete'
          required: true
          schema:
            type: integer
      responses:
        204:
          description: 'Lecture deleted'
        404:
          description: 'Lecture not found'
      security:
        -
          bearerAuth: []
  /api/auth/forgot-password:
    post:
      tags:
        - 'Password Reset'
      summary: 'Send password reset email'
      operationId: 700d31a494a62adf0e7706c73a2604a1
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - email
              properties:
                email:
                  description: 'Email address for password reset'
                  type: string
                  format: email
              type: object
      responses:
        200:
          description: 'Password reset email sent successfully'
          content:
            application/json:
              schema:
                properties:
                  message:
                    type: string
                    example: 'Reset Email is sent successfully. Please check your inbox.'
                type: object
        401:
          description: 'Email not found in the database'
          content:
            application/json:
              schema:
                properties:
                  error:
                    type: string
                    example: "Email doesn't found on our database"
                type: object
  /api/search/courses:
    get:
      tags:
        - Search
      summary: 'Search courses'
      description: 'Search for courses with a search term, page number and size.'
      operationId: searchCourses
      parameters:
        -
          name: searchTerm
          in: query
          description: 'The term to search for'
          required: true
          schema:
            type: string
        -
          name: page_num
          in: query
          description: 'The number of the page to retrieve'
          required: false
          schema:
            type: integer
            format: int32
        -
          name: page_size
          in: query
          description: 'The size of the page (number of items per page)'
          required: false
          schema:
            type: integer
            format: int32
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CourseResource'
        401:
          description: Unauthorized
        400:
          description: 'Bad Request'
      security:
        -
          bearerAuth: []
  /api/topics:
    get:
      tags:
        - Topics
      summary: 'Get a list of topics'
      description: 'Gets a paginated list of topics with categories.'
      operationId: 8e16748db53ac966e8af74d772501056
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TopicResource'
    post:
      tags:
        - Topics
      summary: 'Create a new topic'
      description: 'Creates a new topic with the provided data.'
      operationId: fead0ba561f17de0c4c6bccc6f8605e0
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StoreTopicRequest'
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TopicResource'
        409:
          description: 'Topic already exists'
      security:
        -
          bearerAuth: []
  '/api/topics/{id}':
    get:
      tags:
        - Topics
      summary: 'Get a specific topic'
      description: 'Gets details of a specific topic by ID.'
      operationId: 615c928c6685afe8fd57e2961667b24f
      parameters:
        -
          name: id
          in: path
          description: 'Topic ID'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TopicResource'
        404:
          description: 'Topic not found'
    put:
      tags:
        - Topics
      summary: 'Update a specific topic'
      description: 'Updates a specific topic by ID with the provided data.'
      operationId: 008fde2a26f834347140fc61e91b92f2
      parameters:
        -
          name: id
          in: path
          description: 'Topic ID'
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTopicRequest'
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TopicResource'
        404:
          description: 'Topic not found'
      security:
        -
          bearerAuth: []
    delete:
      tags:
        - Topics
      summary: 'Delete a specific topic'
      description: 'Deletes a specific topic by ID.'
      operationId: 37b43ac2b6d2aed36106fb9c32e65964
      parameters:
        -
          name: id
          in: path
          description: 'Topic ID'
          required: true
          schema:
            type: integer
      responses:
        204:
          description: 'Successful operation with no content'
        404:
          description: 'Topic not found'
      security:
        -
          bearerAuth: []
  '/api/topics/{topicId}/courses':
    get:
      tags:
        - Topics
      summary: 'Get Courses by Topic'
      description: 'Returns all courses under a specific topic'
      operationId: getCoursesByTopic
      parameters:
        -
          name: topicId
          in: path
          description: 'ID of the topic to return courses for'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Successful operation'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CourseResource'
        404:
          description: 'Topic not found'
      security:
        -
          bearerAuth: []
  /api/user/wishlists:
    get:
      tags:
        - Wishlists
      summary: 'Get a list of wishlists'
      operationId: 22a6ed922e24e95120fb4280ff6a4fcf
      parameters:
        -
          name: pageNum
          in: query
          description: 'Page number'
          required: false
          schema:
            type: integer
            example: 1
        -
          name: pageSize
          in: query
          description: 'Number of items per page'
          required: false
          schema:
            type: integer
            example: 15
      responses:
        200:
          description: 'List of wishlists'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/WishlistResource'
      security:
        -
          bearerAuth: []
    post:
      tags:
        - Wishlists
      summary: 'Create a new wishlist item'
      operationId: 01414456df979c4cde3d1f6bb9b813e3
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WishlistRequest'
      responses:
        201:
          description: 'New wishlist item created'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WishlistResource'
        401:
          description: Unauthenticated
      security:
        -
          bearerAuth: []
  '/api/user/wishlists/{id}':
    delete:
      tags:
        - Wishlists
      summary: 'Delete a wishlist item by ID'
      operationId: 0ad67528df6360f6288e310bb04d8fd1
      parameters:
        -
          name: id
          in: path
          description: 'ID of the wishlist item'
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 'Wishlist item deleted'
        401:
          description: Unauthenticated
        403:
          description: Forbidden
        404:
          description: 'Not Found'
      security:
        -
          bearerAuth: []
components:
  schemas:
    CategoryRequest:
      title: 'Category Request'
      required:
        - name
      properties:
        parent_category_id:
          description: 'ID of the parent category, if any.'
          type: integer
          format: int64
        name:
          description: 'Name of the category.'
          type: string
      type: object
    CourseReviewRequest:
      required:
        - course_id
        - rating
      properties:
        course_id:
          description: 'ID of the course to be reviewed'
          type: integer
          example: 1
        rating:
          description: 'Rating given to the course'
          type: number
          format: float
          example: 4.5
        content:
          description: 'Content of the course review'
          type: string
          example: 'This course was very informative and well-structured.'
      type: object
    LoginRequest:
      title: 'Login Request'
      description: 'Login request body data'
      required:
        - email
        - password
      type: object
    PasswordRequest:
      title: 'Password Change Request'
      description: 'Password change request body data'
      required:
        - old_password
        - new_password
      type: object
    ProfileRequest:
      title: 'Edit Profile request'
      description: 'Profile change request body data'
      required:
        - display_name
        - email
      type: object
    RegisterRequest:
      title: 'User Registration Request'
      description: 'User registration request body data'
      required:
        - display_name
        - email
        - password
      type: object
    SearchCoursesRequest:
      title: 'Search Request'
      description: 'Search request body data'
      required:
        - searchTerm
      properties:
        searchTerm:
          description: 'The term to search for'
          type: string
        page_num:
          description: 'The number of the page to retrieve'
          type: integer
          format: int32
        page_size:
          description: 'The size of the page (number of items per page)'
          type: integer
          format: int32
      type: object
    StoreChapterRequest:
      title: 'Store Chapter Request'
      description: 'Store Chapter Request body data'
      required:
        - course_id
        - title
      properties:
        course_id:
          description: 'ID of the associated course'
          type: integer
        title:
          description: 'Title of the chapter'
          type: string
      type: object
    StoreCourseRequest:
      title: 'Store Course Request'
      properties:
        category_ids:
          type: array
          items:
            type: integer
            example: '1'
        title:
          description: 'The title of the course.'
          type: string
          maxLength: 255
        description:
          description: 'The description of the course.'
          type: string
        price:
          description: 'The price of the course.'
          type: number
          format: float
        author:
          description: 'The author of the course.'
          type: string
          maxLength: 255
        thumbnail_image:
          description: 'Thumbnail image.'
          type: file
      type: object
    StoreLectureRequest:
      title: 'Store Lecture Request'
      required:
        - chapter_id
        - title
        - video
      properties:
        chapter_id:
          description: 'ID of the associated chapter.'
          type: integer
          format: int64
        title:
          description: 'Title of the lecture.'
          type: string
        video:
          description: video.
          type: file
        thumbnail_img:
          description: 'Thumbnail image.'
          type: file
        resources:
          description: 'List of resources for the lecture.'
          type: array
          items:
            required:
              - title
              - link
            properties:
              title:
                description: 'Title of the resource.'
                type: string
              link:
                description: 'Link to the resource.'
                type: string
                format: uri
            type: object
      type: object
    StoreTopicRequest:
      title: 'Store Topic Request'
      description: 'Request body data for creating a new topic.'
      required:
        - category_id
        - name
      properties:
        category_id:
          description: 'ID of the category to which the topic belongs.'
          type: integer
        name:
          description: 'Name of the new topic.'
          type: string
          maxLength: 255
      type: object
    UpdateChapterRequest:
      title: 'Update Chapter Request'
      description: 'Update Chapter Request body data'
      required:
        - course_id
        - title
      properties:
        course_id:
          description: 'ID of the associated course'
          type: integer
        title:
          description: 'Title of the chapter'
          type: string
      type: object
    UpdateCourseRequest:
      title: 'Update Course Request'
      properties:
        title:
          description: 'The updated title of the course.'
          type: string
          maxLength: 255
        description:
          description: 'The updated description of the course.'
          type: string
        price:
          description: 'The updated price of the course.'
          type: number
          format: float
        author:
          description: 'The updated author of the course.'
          type: string
          maxLength: 255
        thumbnail_image:
          description: 'Thumbnail image.'
          type: file
      type: object
    UpdateLectureRequest:
      title: 'Update Lecture Request'
      properties:
        title:
          description: 'Title of the lecture.'
          type: string
        video:
          description: 'Video file for the lecture in MP4, MOV, or AVI format.'
          type: string
          format: binary
        thumbnail_img:
          description: 'Thumbnail image for the lecture in JPEG, PNG, JPG, or GIF format.'
          type: string
          format: binary
        resources:
          description: 'List of updated resources for the lecture.'
          type: array
          items:
            required:
              - title
              - link
            properties:
              title:
                description: 'Title of the resource.'
                type: string
              link:
                description: 'Link to the resource.'
                type: string
                format: uri
            type: object
      type: object
    UpdatePasswordRequest:
      title: 'Update Password Request'
      required:
        - email
        - password
      properties:
        email:
          description: 'User email'
          type: string
          format: email
        password:
          description: 'User password (minimum 8 characters with at least one uppercase letter and one digit)'
          type: string
      type: object
    UpdateTopicRequest:
      title: 'Store Topic Request'
      description: 'Request body data for creating a new topic'
      required:
        - category_id
        - name
      properties:
        category_id:
          description: 'ID of the category to which the topic belongs.'
          type: integer
        name:
          description: 'Name of the new topic.'
          type: string
          maxLength: 255
      type: object
    WishlistRequest:
      title: 'Wishlist Request'
      required:
        - course_name
      properties:
        course_name:
          description: 'Name of the course in the wishlist.'
          type: string
      type: object
    CategoryResource:
      title: 'Category Resource'
      description: 'Represents a category resource.'
      properties:
        id:
          description: 'The unique identifier for the category.'
          type: integer
        parent_category:
          $ref: '#/components/schemas/CategoryResource'
        name:
          description: 'The name of the category.'
          type: string
        courses:
          description: 'List of courses associated with the category.'
          type: array
          items:
            $ref: '#/components/schemas/CourseResource'
        topics:
          description: 'List of topics associated with the category.'
          type: array
          items:
            $ref: '#/components/schemas/TopicResource'
      type: object
    ChapterResource:
      title: 'Chapter Resource'
      description: 'Represents a chapter resource.'
      properties:
        id:
          description: 'The unique identifier for the chapter.'
          type: integer
        course_id:
          description: 'The unique identifier of the course associated with the chapter.'
          type: integer
        title:
          description: 'The title of the chapter.'
          type: string
        lectures:
          description: 'A collection of lectures related to the chapter.'
          type: array
          items:
            $ref: '#/components/schemas/LectureResource'
      type: object
    CourseResource:
      title: 'Course Resource'
      description: 'Represents a course resource.'
      properties:
        id:
          description: 'The unique identifier for the course.'
          type: integer
        title:
          description: 'The title of the course.'
          type: string
        description:
          description: 'The description of the course.'
          type: string
        price:
          description: 'The price of the course.'
          type: number
        author:
          description: 'The author of the course.'
          type: string
        categories:
          description: 'List of categories associated with the course.'
          type: array
          items:
            $ref: '#/components/schemas/CategoryResource'
        reviews:
          description: 'List of reviews associated with the course.'
          type: array
          items:
            $ref: '#/components/schemas/CourseReviewResource'
      type: object
    CourseReviewResource:
      title: 'Course Review Resource'
      description: 'Represents a course review resource.'
      properties:
        id:
          description: 'The unique identifier for the review.'
          type: integer
        user:
          $ref: '#/components/schemas/UserResource'
        rating:
          description: 'The rating given in the review.'
          type: integer
        content:
          description: 'The content of the review.'
          type: string
        created_at:
          description: 'The timestamp when the review was created.'
          type: string
          format: date-time
      type: object
    LectureResource:
      title: 'Lecture Resource'
      description: 'Represents a lecture resource.'
      properties:
        id:
          description: 'The unique identifier for the lecture.'
          type: integer
        chapter_id:
          description: 'The unique identifier of the chapter associated with the lecture.'
          type: integer
        title:
          description: 'The title of the lecture.'
          type: string
        resources:
          description: 'A collection of resources related to the lecture.'
          type: array
          items:
            $ref: '#/components/schemas/LectureResourceResource'
        video:
          $ref: '#/components/schemas/LectureVideoResource'
        created_at:
          description: 'The date and time when the lecture was created.'
          type: string
          format: date-time
        updated_at:
          description: 'The date and time when the lecture was last updated.'
          type: string
          format: date-time
      type: object
    LectureResourceResource:
      title: LectureResourceModelResource
      description: 'Lecture resource model resource'
      properties:
        id:
          description: 'ID of the lecture resource'
          type: integer
        lecture_id:
          description: 'The ID of the lecture associated with this resource'
          type: integer
        title:
          description: 'Title of the lecture resource'
          type: string
        link:
          description: 'A link to the lecture resource'
          type: string
          format: uri
      type: object
      xml:
        name: LectureResourceModelResource
    LectureVideoResource:
      title: LectureVideoResource
      description: 'Lecture video resource'
      properties:
        data:
          properties:
            id:
              description: 'Unique identifier for the lecture video'
              type: integer
              example: 1
            url:
              description: 'URL of the video'
              type: string
              example: 'http://example.com/video.mp4'
            thumbnail_url:
              description: 'Thumbnail URL of the video'
              type: string
              example: 'http://example.com/thumbnail.jpg'
            duration:
              description: 'Duration of the video in seconds'
              type: integer
              example: 3600
            lecture_id:
              description: 'Foreign key to Lecture'
              type: integer
              example: 10
            created_at:
              description: 'Creation date of the video'
              type: string
              format: date-time
            updated_at:
              description: 'Last update date of the video'
              type: string
              format: date-time
          type: object
      type: object
      xml:
        name: LectureVideoResource
    TopicResource:
      title: 'Topic Resource'
      description: 'Represents a topic resource.'
      properties:
        id:
          description: 'The unique identifier for the topic.'
          type: integer
        name:
          description: 'The name of the topic.'
          type: string
        categories:
          description: 'List of categories associated with the topic.'
          type: array
          items:
            $ref: '#/components/schemas/CategoryResource'
      type: object
    UserResource:
      title: 'User Resource'
      description: 'Represents a user resource.'
      properties:
        id:
          description: 'The unique identifier for the user.'
          type: integer
        display_name:
          description: 'The display name of the user.'
          type: string
        email:
          description: 'The email address of the user.'
          type: string
          format: email
        created_at:
          description: 'The timestamp when the user was created.'
          type: string
          format: date-time
        updated_at:
          description: 'The timestamp when the user was last updated.'
          type: string
          format: date-time
      type: object
    WishlistResource:
      title: 'Wishlist Resource'
      properties:
        course:
          $ref: '#/components/schemas/CourseResource'
      type: object
  securitySchemes:
    bearerAuth:
      type: http
      description: 'Login with email and password from user module to get the authentication token'
      name: Authorization
      in: header
      scheme: bearer
tags:
  -
    name: admin
    description: 'Admin Authentication operations'
  -
    name: auth
    description: 'Authentication operations'
  -
    name: Categories
    description: 'Endpoints for managing categories'
  -
    name: Courses
    description: 'Endpoints for managing courses'
  -
    name: lectures
    description: 'Operations about lectures'
  -
    name: 'Password Reset'
  -
    name: Search
    description: 'Operations about search'
  -
    name: Topics
    description: 'Endpoints for managing topics'
